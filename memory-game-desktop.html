<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">
    <title>DS Sustainability</title>
</head>
<body>
    <header>
        <div class="header-top-bar">
            <a href="index.html" class="logo">
                <img src="assets/img/petronas-logo.svg" alt="Petronas logo">
            </a>
            <div class="text-center">
                <img src="assets/img/sustainability-text.svg" class="header-bottom-logo" alt="">
            </div>
            <div class="text-end">
                <button class="back-btn">Back</button>
            </div>
        </div>
        <div class="text-center mt-3">
            <img src="assets/img/memory-match-header.svg" class="game-logo-header" alt="">
        </div>
    </header>
    <main>
        <div class="container">
            <div class="row">
                <div class="col-xxl-9 mx-auto">
                    <div class="text-center">
                        <h4 >Memorise the positions of the sustainability cards now!</h4>
                    </div>
                    <div class="timer-container">
                        <h4>Time Left</h4>
                        <div class="main-time">03:00</div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="container">
            <div class="text-center">
                <img src="assets/img/footer-logo.svg" class="footer-logo" alt="">
                <h3 class="footer-line">Passionate about Progress</h3>
            </div>
        </div>
    </footer>


    <script>

        let showHint = document.querySelector(".show-hint")
        let gameTime = document.querySelector(".main-time")
        let countdownTime = 35;
        let seen = false

        // Function to start the countdown
        function startCountdown() {

            // Update the timer every second
            const countdownInterval = setInterval(() => {
                // Calculate minutes and seconds
                let minutes = Math.floor(countdownTime / 60);
                let seconds = countdownTime % 60;

                // Add a leading zero to seconds if less than 10
                seconds = seconds < 10 ? '0' + seconds : seconds;

                // Display the updated time
                gameTime.textContent = `${minutes}:${seconds}`;

                // Decrement the countdown time
                countdownTime--;

                // Check if the countdown has reached zero
                if (countdownTime < 0) {
                    if (!seen) {
                        countdownTime = 120
                        startCountdown()
                        
                        seen = true
                    }
                    else {
                        clearInterval(countdownInterval);
                        gameTime.textContent = "Time's up!";
                    }
                    window.location = "/connection-game-timesup"
                }
            }, 1000);
        }

        // Start the countdown when the page loads
        window.onload = startCountdown;


        showHint.addEventListener("click",()=>{
            showHint.classList.add("d-none")
            showHint.nextElementSibling.classList.remove("d-none")
        })

    </script>
</body>
</html>